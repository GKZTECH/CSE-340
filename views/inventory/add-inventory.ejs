<%- include('../partials/_header') %>
<body>
  <div id="wrapper">
    <header>
      <%- include('../partials/_navigation') %>
    </header>
    <main class="add-inventory-main">
      <section class="add-inventory-section">
        <h1>Add New Vehicle</h1>
        
        <!-- Flash Messages -->
        <% if (messages.success) { %>
          <div class="flash-message success">
            <p><%= messages.success %></p>
          </div>
        <% } %>
        
        <% if (messages.error) { %>
          <div class="flash-message error">
            <p><%= messages.error %></p>
          </div>
        <% } %>
        
        <form action="/inv/add-inventory" method="post" class="inventory-form">
          <div class="form-grid">
            <!-- Vehicle Make -->
            <div class="form-group">
              <label for="inv_make">Make *</label>
              <input 
                type="text" 
                id="inv_make" 
                name="inv_make" 
                class="form-control"
                required
                value="<%= inv_make %>"
              >
            </div>
            
            <!-- Vehicle Model -->
            <div class="form-group">
              <label for="inv_model">Model *</label>
              <input 
                type="text" 
                id="inv_model" 
                name="inv_model" 
                class="form-control"
                required
                value="<%= inv_model %>"
              >
            </div>
            
            <!-- Year -->
            <div class="form-group">
              <label for="inv_year">Year *</label>
              <input 
                type="number" 
                id="inv_year" 
                name="inv_year" 
                class="form-control"
                required
                min="1900"
                max="<%= new Date().getFullYear() + 1 %>"
                value="<%= inv_year %>"
              >
            </div>
            
            <!-- Classification -->
            <div class="form-group">
              <label for="classificationList">Classification *</label>
              <%- classificationList %>
            </div>
            
            <!-- Image Path -->
            <div class="form-group">
              <label for="inv_image">Image Path *</label>
              <input 
                type="text" 
                id="inv_image" 
                name="inv_image" 
                class="form-control"
                required
                value="<%= inv_image %>"
                placeholder="/images/vehicles/no-image.jpg"
              >
            </div>
            
            <!-- Thumbnail Path -->
            <div class="form-group">
              <label for="inv_thumbnail">Thumbnail Path *</label>
              <input 
                type="text" 
                id="inv_thumbnail" 
                name="inv_thumbnail" 
                class="form-control"
                required
                value="<%= inv_thumbnail %>"
                placeholder="/images/vehicles/no-image-tn.jpg"
              >
            </div>
            
            <!-- Price -->
            <div class="form-group">
              <label for="inv_price">Price ($) *</label>
              <input 
                type="number" 
                id="inv_price" 
                name="inv_price" 
                class="form-control"
                required
                step="0.01"
                min="0"
                value="<%= inv_price %>"
              >
            </div>
            
            <!-- Miles -->
            <div class="form-group">
              <label for="inv_miles">Mileage *</label>
              <input 
                type="number" 
                id="inv_miles" 
                name="inv_miles" 
                class="form-control"
                required
                min="0"
                value="<%= inv_miles %>"
              >
            </div>
            
            <!-- Color -->
            <div class="form-group">
              <label for="inv_color">Color *</label>
              <input 
                type="text" 
                id="inv_color" 
                name="inv_color" 
                class="form-control"
                required
                value="<%= inv_color %>"
              >
            </div>
          </div>
          
          <!-- Description (Full width) -->
          <div class="form-group full-width">
            <label for="inv_description">Description *</label>
            <textarea 
              id="inv_description" 
              name="inv_description" 
              class="form-control"
              required
              rows="4"
            ><%= inv_description %></textarea>
          </div>
          
          <!-- Display errors -->
          <% if (errors && errors.length > 0) { %>
            <div class="form-errors">
              <ul>
                <% errors.forEach(error => { %>
                  <li><%= error.msg %></li>
                <% }) %>
              </ul>
            </div>
          <% } %>
          
          <div class="form-actions">
            <button type="submit" class="btn btn-primary">Add Vehicle</button>
            <a href="/inv" class="btn btn-secondary">Cancel</a>
          </div>
        </form>
      </section>
    </main>
    <footer>
      <%- include('../partials/_footer') %>
    </footer>
  </div>
</body>
</html>